
# service 服务

服务实例有一系列通过注入器注册组件的方法。许多方法在module上同样存在。
ng中服务就是由服务工厂创建的单体对象，而服务工厂又是由服务provider创建的，provider是构造函数，且其必须由一个构造函数(服务工厂)属性$get。
当你需要一个服务的时候，注入器会找到对应的provider, 然后实例化它，接着调用它的$get构造工厂方法的到一个服务实例。
通常服务没有配置选项，也没有必要添加方法到provider上。provider只会一个$get。对于这种情况，服务由辅助方法，用于注册服务，而且不需要provider。


## 一个$provide拥有的方法：

* provider(name, provider): name: provider将会有一个可用的`name‘ +'Provider'； provider: 如果是一个对象，该对象必须有$get属性。如果是是函数，实例化后必须含有$get,可以将视为一个对象

* factory(name, factoryFn): 其实就是provider的$get

* service(name, constructor): 使用new对constructor进行实例化，使得我们可以像往常构造对象一样进行操作。其实就是又在factory内直接使用new实例化constructor，并返回。!无法使用数组形式注入。如需注入，使用$inject

* value(name, val):其值不能被注入到模块配置函数，可以被改写. 注册一个值服务，可以是字符串、数组、对象或是函数.其实就是内部自动对其包装一个函数成为factory，函数的返回值就是它自己。

* constant(name, value): supportObject(constant),   与value的不同：其值可以被注入到模块配置函数，其值不能被改写。

* decorator(serviceName, decorFn {Function|Array.<string|Function>}): 注册一个decorator服务，它会中断服务的创建，从而可以改写服务，返回的对象可以是原始服务或者是一个被替换或重新装饰过的新服务对象。$delegate为原始服务    

`note:` 以上方法除decorator外，都可以使用对象形式传参，从而可以一次注册多个服务。(得益于内部桥接supportObject())